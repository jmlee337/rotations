<head>
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=no">
  <link rel="sytlesheet" href="rotations.css" type="text/css">
  <title>Rotations</title>
</head>

<body>
  <div class="container">
    <div class="loginBar">
      {{> loginButtons align="right"}}
    </div>
      {{#if view}}
    {{> Template.dynamic template=view}}
    {{else}}
      {{> itemsView}}
    {{/if}}
  </div>
</body>

<template name="addView">
  <div class="topBar">
    <div class="topBarButton">
      <button class="back mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
        <i class="material-icons">arrow_back</i>
      </button>
    </div>
    <div class="itemLabel">
      Create
    </div>
  </div>
  <form id="theOnlyForm">
    <div class="textInput mdl-textfield mdl-js-textfield">
      <input class="mdl-textfield__input" type="text" id="newTitle" name="newTitle"/>
      <label class="mdl-textfield__label" for="newTitle"><strong>Title...</strong></label>
    </div>
    <div class="textInput mdl-textfield mdl-js-textfield">
      <textarea class="mdl-textfield__input" type="text" rows="10" id="newBody" name="newBody"></textarea>
      <label class="mdl-textfield__label" for="newBody">Body...</label>
    </div>
    <div class="textInput">
      <button type="submit" class="save mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
        Save
      </button>
    </div>
  </form>
  <div class="space8"></div>
</template>

<template name="itemsView">
  {{> itemsSelector}}
  {{#if showAll}}
    {{> allItems}}
  {{else}}
    {{> currentItems}}
  {{/if}}
  <div class="space8"></div>
  <div class="fabContainer">
    <button class="fab mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect">
      <i class="material-icons">add</i>
    </button>
  </div>
</template>

<template name="itemsSelector">
  <div class="topBar">
    <div class="current itemButton {{#if showAll}}itemButtonDisabled{{else}}itemButtonEnabled{{/if}}">
      Current
    </div>
    <div class="all itemButton {{#if showAll}}itemButtonEnabled{{else}}itemButtonDisabled{{/if}}">
      All
    </div>
  </div>
</template>

<template name="allItems">
  {{#each items}}
    <div class="card">
      <div class="headline">{{title}}</div>
      <div class="text">{{body}}</div>
      <button class="edit mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" value="{{_id}}">
        <i class="material-icons">edit</i>
      </button>
      <button class="delete mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" value="{{_id}}">
        <i class="material-icons">delete</i>
      </button>
    </div>
  {{/each}}
</template>

<template name="currentItems">
  {{#each items}}
    <div class="card">
      <div class="headline">{{title}}</div>
      <div class="text">{{body}}</div>
      <button class="edit mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" value="{{_id}}">
        <i class="material-icons">edit</i>
      </button>
      <button class="delete mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" value="{{_id}}">
        <i class="material-icons">delete</i>
      </button>
    </div>
  {{/each}}
</template>